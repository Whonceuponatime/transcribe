{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAMSUNG\\\\Desktop\\\\P.Projects\\\\transcribe\\\\client\\\\src\\\\components\\\\TranscriptionPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './TranscriptionPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TranscriptionPanel = ({\n  transcription,\n  setTranscription,\n  isTranscribing,\n  onStartTranscription,\n  onStopTranscription,\n  onClearTranscription,\n  transcriptionHistory,\n  currentTime,\n  videoDuration,\n  formatTime\n}) => {\n  _s();\n  const [recognition, setRecognition] = useState(null);\n  const [isSupported, setIsSupported] = useState(false);\n  const [error, setError] = useState('');\n  const [debugInfo, setDebugInfo] = useState('');\n  const [browserInfo, setBrowserInfo] = useState('');\n  const [isRecognitionActive, setIsRecognitionActive] = useState(false);\n  const [micPermission, setMicPermission] = useState('unknown');\n  const textareaRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // Detect browser and provide specific guidance\n  useEffect(() => {\n    const userAgent = navigator.userAgent;\n    let browser = 'Unknown';\n    let version = 'Unknown';\n    if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) {\n      var _userAgent$match;\n      browser = 'Chrome';\n      version = ((_userAgent$match = userAgent.match(/Chrome\\/(\\d+)/)) === null || _userAgent$match === void 0 ? void 0 : _userAgent$match[1]) || 'Unknown';\n    } else if (userAgent.includes('Edg')) {\n      var _userAgent$match2;\n      browser = 'Edge';\n      version = ((_userAgent$match2 = userAgent.match(/Edg\\/(\\d+)/)) === null || _userAgent$match2 === void 0 ? void 0 : _userAgent$match2[1]) || 'Unknown';\n    } else if (userAgent.includes('Firefox')) {\n      var _userAgent$match3;\n      browser = 'Firefox';\n      version = ((_userAgent$match3 = userAgent.match(/Firefox\\/(\\d+)/)) === null || _userAgent$match3 === void 0 ? void 0 : _userAgent$match3[1]) || 'Unknown';\n    } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {\n      var _userAgent$match4;\n      browser = 'Safari';\n      version = ((_userAgent$match4 = userAgent.match(/Version\\/(\\d+)/)) === null || _userAgent$match4 === void 0 ? void 0 : _userAgent$match4[1]) || 'Unknown';\n    }\n    setBrowserInfo(`${browser} ${version}`);\n\n    // Check for HTTPS in production\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setError('Speech recognition requires HTTPS in production. Please use a secure connection.');\n      return;\n    }\n\n    // Check microphone permission\n    if (navigator.permissions && navigator.permissions.query) {\n      navigator.permissions.query({\n        name: 'microphone'\n      }).then(result => {\n        setMicPermission(result.state);\n        setDebugInfo(`Microphone permission: ${result.state}`);\n      });\n    }\n  }, []);\n\n  // Initialize speech recognition only once\n  useEffect(() => {\n    if (recognitionRef.current) return; // Already initialized\n\n    // Check if Web Speech API is supported\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      try {\n        const recognitionInstance = new SpeechRecognition();\n        recognitionInstance.continuous = true;\n        recognitionInstance.interimResults = true;\n        recognitionInstance.lang = 'en-US';\n        recognitionInstance.maxAlternatives = 1;\n        recognitionInstance.onstart = () => {\n          console.log('Speech recognition started');\n          setIsRecognitionActive(true);\n          setDebugInfo('Speech recognition started successfully');\n          setError('');\n        };\n        recognitionInstance.onresult = event => {\n          let finalTranscript = '';\n          for (let i = event.resultIndex; i < event.results.length; i++) {\n            const transcript = event.results[i][0].transcript;\n            if (event.results[i].isFinal) {\n              finalTranscript += transcript;\n            }\n          }\n          if (finalTranscript) {\n            setTranscription(prev => prev + ' ' + finalTranscript);\n            setDebugInfo(`Transcribed: \"${finalTranscript}\"`);\n          }\n        };\n        recognitionInstance.onerror = event => {\n          console.error('Speech recognition error:', event.error);\n          setIsRecognitionActive(false);\n          let errorMessage = `Speech recognition error: ${event.error}`;\n\n          // Provide specific guidance for common errors\n          switch (event.error) {\n            case 'aborted':\n              errorMessage = 'Speech recognition was aborted. This usually happens when the browser stops the recognition. Try refreshing the page and ensure you\\'re using Chrome or Edge.';\n              break;\n            case 'audio-capture':\n              errorMessage = 'Audio capture failed. Please check your microphone permissions and ensure your microphone is working.';\n              break;\n            case 'bad-grammar':\n              errorMessage = 'Bad grammar error. This is usually a browser issue. Try refreshing the page.';\n              break;\n            case 'language-not-supported':\n              errorMessage = 'Language not supported. The app is configured for English (US).';\n              break;\n            case 'network':\n              errorMessage = 'Network error. Please check your internet connection.';\n              break;\n            case 'no-speech':\n              errorMessage = 'No speech detected. Please speak clearly into your microphone.';\n              break;\n            case 'not-allowed':\n              errorMessage = 'Microphone access denied. Please allow microphone access in your browser settings.';\n              break;\n            case 'service-not-allowed':\n              errorMessage = 'Speech recognition service not allowed. Please check your browser settings.';\n              break;\n            default:\n              errorMessage = `Speech recognition error: ${event.error}. Please try refreshing the page.`;\n          }\n          setError(errorMessage);\n          setDebugInfo(`Error occurred: ${event.error}`);\n          onStopTranscription();\n        };\n        recognitionInstance.onend = () => {\n          console.log('Speech recognition ended');\n          setIsRecognitionActive(false);\n          setDebugInfo('Speech recognition ended');\n\n          // Only restart if we're still supposed to be transcribing\n          if (isTranscribing && !error) {\n            setTimeout(() => {\n              try {\n                if (isTranscribing && !isRecognitionActive) {\n                  recognitionInstance.start();\n                  setDebugInfo('Restarting speech recognition...');\n                }\n              } catch (error) {\n                console.error('Error restarting recognition:', error);\n                setError('Failed to restart speech recognition. Please try again.');\n                onStopTranscription();\n              }\n            }, 1000); // Increased delay to prevent rapid restarts\n          }\n        };\n        recognitionRef.current = recognitionInstance;\n        setRecognition(recognitionInstance);\n        setIsSupported(true);\n        setDebugInfo('Speech recognition initialized successfully');\n      } catch (error) {\n        console.error('Error creating speech recognition:', error);\n        setError('Failed to initialize speech recognition. Please ensure you\\'re using Chrome or Edge browser.');\n        setIsSupported(false);\n      }\n    } else {\n      setIsSupported(false);\n      setError('Speech recognition is not supported in this browser. Please use Chrome or Edge.');\n    }\n\n    // Cleanup function\n    return () => {\n      if (recognitionRef.current) {\n        try {\n          recognitionRef.current.stop();\n        } catch (error) {\n          console.error('Error stopping recognition during cleanup:', error);\n        }\n        recognitionRef.current = null;\n      }\n    };\n  }, []); // Empty dependency array - only run once\n\n  // Handle transcription start/stop\n  useEffect(() => {\n    if (!recognitionRef.current) return;\n    if (isTranscribing && !isRecognitionActive) {\n      try {\n        recognitionRef.current.start();\n        setDebugInfo('Starting speech recognition...');\n      } catch (error) {\n        console.error('Error starting recognition:', error);\n        setError('Failed to start speech recognition. Please try refreshing the page.');\n        setDebugInfo(`Start error: ${error.message}`);\n      }\n    } else if (!isTranscribing && isRecognitionActive) {\n      try {\n        recognitionRef.current.stop();\n        setDebugInfo('Stopping speech recognition...');\n      } catch (error) {\n        console.error('Error stopping recognition:', error);\n        setDebugInfo(`Stop error: ${error.message}`);\n      }\n    }\n  }, [isTranscribing, isRecognitionActive]);\n  const handleStartTranscription = async () => {\n    setError('');\n    setDebugInfo('User requested to start transcription');\n\n    // Check microphone permission first\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      stream.getTracks().forEach(track => track.stop()); // Stop the stream immediately\n      setMicPermission('granted');\n      setDebugInfo('Microphone permission granted');\n      onStartTranscription();\n    } catch (error) {\n      console.error('Microphone permission error:', error);\n      setError('Microphone access denied. Please allow microphone access and try again.');\n      setMicPermission('denied');\n      setDebugInfo('Microphone permission denied');\n    }\n  };\n  const handleStopTranscription = () => {\n    setDebugInfo('User requested to stop transcription');\n    onStopTranscription();\n  };\n  const handleClearTranscription = () => {\n    onClearTranscription();\n  };\n  const copyToClipboard = () => {\n    if (transcription.trim()) {\n      navigator.clipboard.writeText(transcription).then(() => {\n        // Show a brief success message\n        const button = document.querySelector('.copy-btn');\n        if (button) {\n          const originalText = button.textContent;\n          button.textContent = 'Copied!';\n          setTimeout(() => {\n            button.textContent = originalText;\n          }, 2000);\n        }\n      }).catch(err => {\n        console.error('Failed to copy text: ', err);\n      });\n    }\n  };\n  const downloadTranscription = () => {\n    if (transcription.trim()) {\n      const blob = new Blob([transcription], {\n        type: 'text/plain'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `transcription-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    }\n  };\n  const getTroubleshootingSteps = () => {\n    const steps = ['1. Ensure you\\'re using Chrome or Edge browser', '2. Allow microphone access when prompted', '3. Check that your microphone is working', '4. Try refreshing the page', '5. Disable any browser extensions that might interfere', '6. Check your browser\\'s privacy settings'];\n    return steps.join('\\n');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"transcription-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83C\\uDFA4 Transcription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-controls\",\n        children: [!isTranscribing ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-btn\",\n          onClick: handleStartTranscription,\n          disabled: !isSupported,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), \"Start\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"stop-btn\",\n          onClick: handleStopTranscription,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"6\",\n              y: \"6\",\n              width: \"12\",\n              height: \"12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), \"Stop\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-btn\",\n          onClick: handleClearTranscription,\n          disabled: !transcription.trim(),\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 6h18\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), \"Clear\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), browserInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"browser-info\",\n      style: {\n        fontSize: '0.8rem',\n        color: '#666',\n        marginBottom: '0.5rem'\n      },\n      children: [\"Browser: \", browserInfo, \" | Mic Permission: \", micPermission]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"12\",\n          cy: \"12\",\n          r: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"15\",\n          y1: \"9\",\n          x2: \"9\",\n          y2: \"15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"9\",\n          y1: \"9\",\n          x2: \"15\",\n          y2: \"15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this), error, error.includes('aborted') && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '0.5rem',\n          fontSize: '0.9rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Troubleshooting steps:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            fontSize: '0.8rem',\n            marginTop: '0.25rem',\n            whiteSpace: 'pre-line'\n          },\n          children: getTroubleshootingSteps()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this), !isSupported && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"warning-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"12\",\n          y1: \"9\",\n          x2: \"12\",\n          y2: \"13\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"12\",\n          y1: \"17\",\n          x2: \"12.01\",\n          y2: \"17\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this), \"Speech recognition requires Chrome or Edge browser\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this), process.env.NODE_ENV === 'development' && debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-info\",\n      style: {\n        fontSize: '0.8rem',\n        color: '#666',\n        marginBottom: '0.5rem'\n      },\n      children: [\"Debug: \", debugInfo, \" | Active: \", isRecognitionActive ? 'Yes' : 'No', \" | Supported: \", isSupported ? 'Yes' : 'No']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transcription-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-textarea\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: transcription,\n          onChange: e => setTranscription(e.target.value),\n          placeholder: isTranscribing ? \"Listening...\" : \"Transcription will appear here...\",\n          readOnly: isTranscribing,\n          className: isTranscribing ? 'listening' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), transcription.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"copy-btn\",\n          onClick: copyToClipboard,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"9\",\n              y: \"9\",\n              width: \"13\",\n              height: \"13\",\n              rx: \"2\",\n              ry: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), \"Copy\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"download-btn\",\n          onClick: downloadTranscription,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"7,10 12,15 17,10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"12\",\n              y1: \"15\",\n              x2: \"12\",\n              y2: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this), \"Download\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this), transcriptionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transcription-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCDD History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-list\",\n        children: transcriptionHistory.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"history-time\",\n              children: item.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"video-time\",\n              children: formatTime(item.videoTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-text\",\n            children: item.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this), videoDuration > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Current: \", formatTime(currentTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Duration: \", formatTime(videoDuration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${currentTime / videoDuration * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s(TranscriptionPanel, \"Q77Ys7W4Yv+ToYzDIAsE9eyQIDI=\");\n_c = TranscriptionPanel;\nexport default TranscriptionPanel;\nvar _c;\n$RefreshReg$(_c, \"TranscriptionPanel\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","TranscriptionPanel","transcription","setTranscription","isTranscribing","onStartTranscription","onStopTranscription","onClearTranscription","transcriptionHistory","currentTime","videoDuration","formatTime","_s","recognition","setRecognition","isSupported","setIsSupported","error","setError","debugInfo","setDebugInfo","browserInfo","setBrowserInfo","isRecognitionActive","setIsRecognitionActive","micPermission","setMicPermission","textareaRef","recognitionRef","userAgent","navigator","browser","version","includes","_userAgent$match","match","_userAgent$match2","_userAgent$match3","_userAgent$match4","window","location","protocol","hostname","permissions","query","name","then","result","state","current","SpeechRecognition","webkitSpeechRecognition","recognitionInstance","continuous","interimResults","lang","maxAlternatives","onstart","console","log","onresult","event","finalTranscript","i","resultIndex","results","length","transcript","isFinal","prev","onerror","errorMessage","onend","setTimeout","start","stop","message","handleStartTranscription","stream","mediaDevices","getUserMedia","audio","getTracks","forEach","track","handleStopTranscription","handleClearTranscription","copyToClipboard","trim","clipboard","writeText","button","document","querySelector","originalText","textContent","catch","err","downloadTranscription","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","Date","toISOString","slice","replace","body","appendChild","click","removeChild","revokeObjectURL","getTroubleshootingSteps","steps","join","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","width","height","viewBox","fill","cx","cy","r","x","y","d","style","fontSize","color","marginBottom","x1","y1","x2","y2","marginTop","whiteSpace","process","env","NODE_ENV","ref","value","onChange","e","target","placeholder","readOnly","rx","ry","points","map","item","timestamp","videoTime","text","id","_c","$RefreshReg$"],"sources":["C:/Users/SAMSUNG/Desktop/P.Projects/transcribe/client/src/components/TranscriptionPanel.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './TranscriptionPanel.css';\r\n\r\nconst TranscriptionPanel = ({\r\n  transcription,\r\n  setTranscription,\r\n  isTranscribing,\r\n  onStartTranscription,\r\n  onStopTranscription,\r\n  onClearTranscription,\r\n  transcriptionHistory,\r\n  currentTime,\r\n  videoDuration,\r\n  formatTime\r\n}) => {\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [debugInfo, setDebugInfo] = useState('');\r\n  const [browserInfo, setBrowserInfo] = useState('');\r\n  const [isRecognitionActive, setIsRecognitionActive] = useState(false);\r\n  const [micPermission, setMicPermission] = useState('unknown');\r\n  const textareaRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n\r\n  // Detect browser and provide specific guidance\r\n  useEffect(() => {\r\n    const userAgent = navigator.userAgent;\r\n    let browser = 'Unknown';\r\n    let version = 'Unknown';\r\n    \r\n    if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) {\r\n      browser = 'Chrome';\r\n      version = userAgent.match(/Chrome\\/(\\d+)/)?.[1] || 'Unknown';\r\n    } else if (userAgent.includes('Edg')) {\r\n      browser = 'Edge';\r\n      version = userAgent.match(/Edg\\/(\\d+)/)?.[1] || 'Unknown';\r\n    } else if (userAgent.includes('Firefox')) {\r\n      browser = 'Firefox';\r\n      version = userAgent.match(/Firefox\\/(\\d+)/)?.[1] || 'Unknown';\r\n    } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {\r\n      browser = 'Safari';\r\n      version = userAgent.match(/Version\\/(\\d+)/)?.[1] || 'Unknown';\r\n    }\r\n    \r\n    setBrowserInfo(`${browser} ${version}`);\r\n    \r\n    // Check for HTTPS in production\r\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\r\n      setError('Speech recognition requires HTTPS in production. Please use a secure connection.');\r\n      return;\r\n    }\r\n\r\n    // Check microphone permission\r\n    if (navigator.permissions && navigator.permissions.query) {\r\n      navigator.permissions.query({ name: 'microphone' }).then(result => {\r\n        setMicPermission(result.state);\r\n        setDebugInfo(`Microphone permission: ${result.state}`);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Initialize speech recognition only once\r\n  useEffect(() => {\r\n    if (recognitionRef.current) return; // Already initialized\r\n\r\n    // Check if Web Speech API is supported\r\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      \r\n      try {\r\n        const recognitionInstance = new SpeechRecognition();\r\n        \r\n        recognitionInstance.continuous = true;\r\n        recognitionInstance.interimResults = true;\r\n        recognitionInstance.lang = 'en-US';\r\n        recognitionInstance.maxAlternatives = 1;\r\n\r\n        recognitionInstance.onstart = () => {\r\n          console.log('Speech recognition started');\r\n          setIsRecognitionActive(true);\r\n          setDebugInfo('Speech recognition started successfully');\r\n          setError('');\r\n        };\r\n\r\n        recognitionInstance.onresult = (event) => {\r\n          let finalTranscript = '';\r\n\r\n          for (let i = event.resultIndex; i < event.results.length; i++) {\r\n            const transcript = event.results[i][0].transcript;\r\n            if (event.results[i].isFinal) {\r\n              finalTranscript += transcript;\r\n            }\r\n          }\r\n\r\n          if (finalTranscript) {\r\n            setTranscription(prev => prev + ' ' + finalTranscript);\r\n            setDebugInfo(`Transcribed: \"${finalTranscript}\"`);\r\n          }\r\n        };\r\n\r\n        recognitionInstance.onerror = (event) => {\r\n          console.error('Speech recognition error:', event.error);\r\n          setIsRecognitionActive(false);\r\n          \r\n          let errorMessage = `Speech recognition error: ${event.error}`;\r\n          \r\n          // Provide specific guidance for common errors\r\n          switch(event.error) {\r\n            case 'aborted':\r\n              errorMessage = 'Speech recognition was aborted. This usually happens when the browser stops the recognition. Try refreshing the page and ensure you\\'re using Chrome or Edge.';\r\n              break;\r\n            case 'audio-capture':\r\n              errorMessage = 'Audio capture failed. Please check your microphone permissions and ensure your microphone is working.';\r\n              break;\r\n            case 'bad-grammar':\r\n              errorMessage = 'Bad grammar error. This is usually a browser issue. Try refreshing the page.';\r\n              break;\r\n            case 'language-not-supported':\r\n              errorMessage = 'Language not supported. The app is configured for English (US).';\r\n              break;\r\n            case 'network':\r\n              errorMessage = 'Network error. Please check your internet connection.';\r\n              break;\r\n            case 'no-speech':\r\n              errorMessage = 'No speech detected. Please speak clearly into your microphone.';\r\n              break;\r\n            case 'not-allowed':\r\n              errorMessage = 'Microphone access denied. Please allow microphone access in your browser settings.';\r\n              break;\r\n            case 'service-not-allowed':\r\n              errorMessage = 'Speech recognition service not allowed. Please check your browser settings.';\r\n              break;\r\n            default:\r\n              errorMessage = `Speech recognition error: ${event.error}. Please try refreshing the page.`;\r\n          }\r\n          \r\n          setError(errorMessage);\r\n          setDebugInfo(`Error occurred: ${event.error}`);\r\n          onStopTranscription();\r\n        };\r\n\r\n        recognitionInstance.onend = () => {\r\n          console.log('Speech recognition ended');\r\n          setIsRecognitionActive(false);\r\n          setDebugInfo('Speech recognition ended');\r\n          \r\n          // Only restart if we're still supposed to be transcribing\r\n          if (isTranscribing && !error) {\r\n            setTimeout(() => {\r\n              try {\r\n                if (isTranscribing && !isRecognitionActive) {\r\n                  recognitionInstance.start();\r\n                  setDebugInfo('Restarting speech recognition...');\r\n                }\r\n              } catch (error) {\r\n                console.error('Error restarting recognition:', error);\r\n                setError('Failed to restart speech recognition. Please try again.');\r\n                onStopTranscription();\r\n              }\r\n            }, 1000); // Increased delay to prevent rapid restarts\r\n          }\r\n        };\r\n\r\n        recognitionRef.current = recognitionInstance;\r\n        setRecognition(recognitionInstance);\r\n        setIsSupported(true);\r\n        setDebugInfo('Speech recognition initialized successfully');\r\n      } catch (error) {\r\n        console.error('Error creating speech recognition:', error);\r\n        setError('Failed to initialize speech recognition. Please ensure you\\'re using Chrome or Edge browser.');\r\n        setIsSupported(false);\r\n      }\r\n    } else {\r\n      setIsSupported(false);\r\n      setError('Speech recognition is not supported in this browser. Please use Chrome or Edge.');\r\n    }\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      if (recognitionRef.current) {\r\n        try {\r\n          recognitionRef.current.stop();\r\n        } catch (error) {\r\n          console.error('Error stopping recognition during cleanup:', error);\r\n        }\r\n        recognitionRef.current = null;\r\n      }\r\n    };\r\n  }, []); // Empty dependency array - only run once\r\n\r\n  // Handle transcription start/stop\r\n  useEffect(() => {\r\n    if (!recognitionRef.current) return;\r\n\r\n    if (isTranscribing && !isRecognitionActive) {\r\n      try {\r\n        recognitionRef.current.start();\r\n        setDebugInfo('Starting speech recognition...');\r\n      } catch (error) {\r\n        console.error('Error starting recognition:', error);\r\n        setError('Failed to start speech recognition. Please try refreshing the page.');\r\n        setDebugInfo(`Start error: ${error.message}`);\r\n      }\r\n    } else if (!isTranscribing && isRecognitionActive) {\r\n      try {\r\n        recognitionRef.current.stop();\r\n        setDebugInfo('Stopping speech recognition...');\r\n      } catch (error) {\r\n        console.error('Error stopping recognition:', error);\r\n        setDebugInfo(`Stop error: ${error.message}`);\r\n      }\r\n    }\r\n  }, [isTranscribing, isRecognitionActive]);\r\n\r\n  const handleStartTranscription = async () => {\r\n    setError('');\r\n    setDebugInfo('User requested to start transcription');\r\n    \r\n    // Check microphone permission first\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      stream.getTracks().forEach(track => track.stop()); // Stop the stream immediately\r\n      setMicPermission('granted');\r\n      setDebugInfo('Microphone permission granted');\r\n      onStartTranscription();\r\n    } catch (error) {\r\n      console.error('Microphone permission error:', error);\r\n      setError('Microphone access denied. Please allow microphone access and try again.');\r\n      setMicPermission('denied');\r\n      setDebugInfo('Microphone permission denied');\r\n    }\r\n  };\r\n\r\n  const handleStopTranscription = () => {\r\n    setDebugInfo('User requested to stop transcription');\r\n    onStopTranscription();\r\n  };\r\n\r\n  const handleClearTranscription = () => {\r\n    onClearTranscription();\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    if (transcription.trim()) {\r\n      navigator.clipboard.writeText(transcription).then(() => {\r\n        // Show a brief success message\r\n        const button = document.querySelector('.copy-btn');\r\n        if (button) {\r\n          const originalText = button.textContent;\r\n          button.textContent = 'Copied!';\r\n          setTimeout(() => {\r\n            button.textContent = originalText;\r\n          }, 2000);\r\n        }\r\n      }).catch(err => {\r\n        console.error('Failed to copy text: ', err);\r\n      });\r\n    }\r\n  };\r\n\r\n  const downloadTranscription = () => {\r\n    if (transcription.trim()) {\r\n      const blob = new Blob([transcription], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `transcription-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  const getTroubleshootingSteps = () => {\r\n    const steps = [\r\n      '1. Ensure you\\'re using Chrome or Edge browser',\r\n      '2. Allow microphone access when prompted',\r\n      '3. Check that your microphone is working',\r\n      '4. Try refreshing the page',\r\n      '5. Disable any browser extensions that might interfere',\r\n      '6. Check your browser\\'s privacy settings'\r\n    ];\r\n    return steps.join('\\n');\r\n  };\r\n\r\n  return (\r\n    <div className=\"transcription-panel\">\r\n      <div className=\"panel-header\">\r\n        <h3>🎤 Transcription</h3>\r\n        <div className=\"transcription-controls\">\r\n          {!isTranscribing ? (\r\n            <button\r\n              className=\"start-btn\"\r\n              onClick={handleStartTranscription}\r\n              disabled={!isSupported}\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n              </svg>\r\n              Start\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"stop-btn\"\r\n              onClick={handleStopTranscription}\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\"/>\r\n              </svg>\r\n              Stop\r\n            </button>\r\n          )}\r\n          \r\n          <button\r\n            className=\"clear-btn\"\r\n            onClick={handleClearTranscription}\r\n            disabled={!transcription.trim()}\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M3 6h18\"/>\r\n              <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"/>\r\n              <path d=\"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\r\n            </svg>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Browser info */}\r\n      {browserInfo && (\r\n        <div className=\"browser-info\" style={{ fontSize: '0.8rem', color: '#666', marginBottom: '0.5rem' }}>\r\n          Browser: {browserInfo} | Mic Permission: {micPermission}\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\r\n            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\r\n          </svg>\r\n          {error}\r\n          {error.includes('aborted') && (\r\n            <div style={{ marginTop: '0.5rem', fontSize: '0.9rem' }}>\r\n              <strong>Troubleshooting steps:</strong>\r\n              <pre style={{ fontSize: '0.8rem', marginTop: '0.25rem', whiteSpace: 'pre-line' }}>\r\n                {getTroubleshootingSteps()}\r\n              </pre>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!isSupported && (\r\n        <div className=\"warning-message\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"/>\r\n            <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"/>\r\n            <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/>\r\n          </svg>\r\n          Speech recognition requires Chrome or Edge browser\r\n        </div>\r\n      )}\r\n\r\n      {/* Debug info for troubleshooting */}\r\n      {process.env.NODE_ENV === 'development' && debugInfo && (\r\n        <div className=\"debug-info\" style={{ fontSize: '0.8rem', color: '#666', marginBottom: '0.5rem' }}>\r\n          Debug: {debugInfo} | Active: {isRecognitionActive ? 'Yes' : 'No'} | Supported: {isSupported ? 'Yes' : 'No'}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"transcription-content\">\r\n        <div className=\"transcription-textarea\">\r\n          <textarea\r\n            ref={textareaRef}\r\n            value={transcription}\r\n            onChange={(e) => setTranscription(e.target.value)}\r\n            placeholder={isTranscribing ? \"Listening...\" : \"Transcription will appear here...\"}\r\n            readOnly={isTranscribing}\r\n            className={isTranscribing ? 'listening' : ''}\r\n          />\r\n        </div>\r\n\r\n        {transcription.trim() && (\r\n          <div className=\"transcription-actions\">\r\n            <button className=\"copy-btn\" onClick={copyToClipboard}>\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"/>\r\n                <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"/>\r\n              </svg>\r\n              Copy\r\n            </button>\r\n            <button className=\"download-btn\" onClick={downloadTranscription}>\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"/>\r\n                <polyline points=\"7,10 12,15 17,10\"/>\r\n                <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"/>\r\n              </svg>\r\n              Download\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {transcriptionHistory.length > 0 && (\r\n        <div className=\"transcription-history\">\r\n          <h4>📝 History</h4>\r\n          <div className=\"history-list\">\r\n            {transcriptionHistory.map((item) => (\r\n              <div key={item.id} className=\"history-item\">\r\n                <div className=\"history-header\">\r\n                  <span className=\"history-time\">{item.timestamp}</span>\r\n                  <span className=\"video-time\">{formatTime(item.videoTime)}</span>\r\n                </div>\r\n                <div className=\"history-text\">{item.text}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {videoDuration > 0 && (\r\n        <div className=\"video-progress\">\r\n          <div className=\"progress-info\">\r\n            <span>Current: {formatTime(currentTime)}</span>\r\n            <span>Duration: {formatTime(videoDuration)}</span>\r\n          </div>\r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\"\r\n              style={{ width: `${(currentTime / videoDuration) * 100}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TranscriptionPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}