{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAMSUNG\\\\Desktop\\\\P.Projects\\\\transcribe\\\\client\\\\src\\\\components\\\\TranscriptionPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './TranscriptionPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TranscriptionPanel = ({\n  transcription,\n  setTranscription,\n  isTranscribing,\n  onStartTranscription,\n  onStopTranscription,\n  onClearTranscription,\n  transcriptionHistory,\n  currentTime,\n  videoDuration,\n  formatTime\n}) => {\n  _s();\n  const [recognition, setRecognition] = useState(null);\n  const [isSupported, setIsSupported] = useState(false);\n  const [error, setError] = useState('');\n  const [debugInfo, setDebugInfo] = useState('');\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    // Check if Web Speech API is supported\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      try {\n        const recognitionInstance = new SpeechRecognition();\n        recognitionInstance.continuous = true;\n        recognitionInstance.interimResults = true;\n        recognitionInstance.lang = 'en-US';\n        recognitionInstance.maxAlternatives = 1;\n        recognitionInstance.onstart = () => {\n          console.log('Speech recognition started');\n          setDebugInfo('Speech recognition started successfully');\n          setError('');\n        };\n        recognitionInstance.onresult = event => {\n          let finalTranscript = '';\n          let interimTranscript = '';\n          for (let i = event.resultIndex; i < event.results.length; i++) {\n            const transcript = event.results[i][0].transcript;\n            if (event.results[i].isFinal) {\n              finalTranscript += transcript;\n            } else {\n              interimTranscript += transcript;\n            }\n          }\n          if (finalTranscript) {\n            setTranscription(prev => prev + ' ' + finalTranscript);\n            setDebugInfo(`Transcribed: \"${finalTranscript}\"`);\n          }\n        };\n        recognitionInstance.onerror = event => {\n          console.error('Speech recognition error:', event.error);\n          let errorMessage = `Speech recognition error: ${event.error}`;\n\n          // Provide specific guidance for common errors\n          switch (event.error) {\n            case 'aborted':\n              errorMessage = 'Speech recognition was aborted. This usually happens when the browser stops the recognition. Try refreshing the page and ensure you\\'re using Chrome or Edge.';\n              break;\n            case 'audio-capture':\n              errorMessage = 'Audio capture failed. Please check your microphone permissions and ensure your microphone is working.';\n              break;\n            case 'bad-grammar':\n              errorMessage = 'Bad grammar error. This is usually a browser issue. Try refreshing the page.';\n              break;\n            case 'language-not-supported':\n              errorMessage = 'Language not supported. The app is configured for English (US).';\n              break;\n            case 'network':\n              errorMessage = 'Network error. Please check your internet connection.';\n              break;\n            case 'no-speech':\n              errorMessage = 'No speech detected. Please speak clearly into your microphone.';\n              break;\n            case 'not-allowed':\n              errorMessage = 'Microphone access denied. Please allow microphone access in your browser settings.';\n              break;\n            case 'service-not-allowed':\n              errorMessage = 'Speech recognition service not allowed. Please check your browser settings.';\n              break;\n            default:\n              errorMessage = `Speech recognition error: ${event.error}. Please try refreshing the page.`;\n          }\n          setError(errorMessage);\n          setDebugInfo(`Error occurred: ${event.error}`);\n          onStopTranscription();\n        };\n        recognitionInstance.onend = () => {\n          console.log('Speech recognition ended');\n          setDebugInfo('Speech recognition ended');\n          if (isTranscribing) {\n            // Restart if still transcribing\n            setTimeout(() => {\n              try {\n                recognitionInstance.start();\n                setDebugInfo('Restarting speech recognition...');\n              } catch (error) {\n                console.error('Error restarting recognition:', error);\n                setError('Failed to restart speech recognition. Please try again.');\n                onStopTranscription();\n              }\n            }, 100);\n          }\n        };\n        setRecognition(recognitionInstance);\n        setIsSupported(true);\n        setDebugInfo('Speech recognition initialized successfully');\n      } catch (error) {\n        console.error('Error creating speech recognition:', error);\n        setError('Failed to initialize speech recognition. Please ensure you\\'re using Chrome or Edge browser.');\n        setIsSupported(false);\n      }\n    } else {\n      setIsSupported(false);\n      setError('Speech recognition is not supported in this browser. Please use Chrome or Edge.');\n    }\n  }, [isTranscribing, setTranscription, onStopTranscription]);\n  useEffect(() => {\n    if (isTranscribing && recognition && isSupported) {\n      try {\n        recognition.start();\n        setDebugInfo('Starting speech recognition...');\n      } catch (error) {\n        console.error('Error starting recognition:', error);\n        setError('Failed to start speech recognition. Please try refreshing the page.');\n        setDebugInfo(`Start error: ${error.message}`);\n      }\n    } else if (!isTranscribing && recognition) {\n      try {\n        recognition.stop();\n        setDebugInfo('Stopping speech recognition...');\n      } catch (error) {\n        console.error('Error stopping recognition:', error);\n        setDebugInfo(`Stop error: ${error.message}`);\n      }\n    }\n  }, [isTranscribing, recognition, isSupported]);\n  const handleStartTranscription = () => {\n    setError('');\n    setDebugInfo('User requested to start transcription');\n    onStartTranscription();\n  };\n  const handleStopTranscription = () => {\n    setDebugInfo('User requested to stop transcription');\n    onStopTranscription();\n  };\n  const handleClearTranscription = () => {\n    onClearTranscription();\n  };\n  const copyToClipboard = () => {\n    if (transcription.trim()) {\n      navigator.clipboard.writeText(transcription).then(() => {\n        // Show a brief success message\n        const button = document.querySelector('.copy-btn');\n        if (button) {\n          const originalText = button.textContent;\n          button.textContent = 'Copied!';\n          setTimeout(() => {\n            button.textContent = originalText;\n          }, 2000);\n        }\n      }).catch(err => {\n        console.error('Failed to copy text: ', err);\n      });\n    }\n  };\n  const downloadTranscription = () => {\n    if (transcription.trim()) {\n      const blob = new Blob([transcription], {\n        type: 'text/plain'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `transcription-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"transcription-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83C\\uDFA4 Transcription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-controls\",\n        children: [!isTranscribing ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-btn\",\n          onClick: handleStartTranscription,\n          disabled: !isSupported,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), \"Start\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"stop-btn\",\n          onClick: handleStopTranscription,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"6\",\n              y: \"6\",\n              width: \"12\",\n              height: \"12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), \"Stop\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-btn\",\n          onClick: handleClearTranscription,\n          disabled: !transcription.trim(),\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 6h18\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), \"Clear\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"12\",\n          cy: \"12\",\n          r: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"15\",\n          y1: \"9\",\n          x2: \"9\",\n          y2: \"15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"9\",\n          y1: \"9\",\n          x2: \"15\",\n          y2: \"15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this), !isSupported && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"warning-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"12\",\n          y1: \"9\",\n          x2: \"12\",\n          y2: \"13\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"12\",\n          y1: \"17\",\n          x2: \"12.01\",\n          y2: \"17\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), \"Speech recognition requires Chrome or Edge browser\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this), process.env.NODE_ENV === 'development' && debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-info\",\n      style: {\n        fontSize: '0.8rem',\n        color: '#666',\n        marginBottom: '0.5rem'\n      },\n      children: [\"Debug: \", debugInfo]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transcription-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-textarea\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: transcription,\n          onChange: e => setTranscription(e.target.value),\n          placeholder: isTranscribing ? \"Listening...\" : \"Transcription will appear here...\",\n          readOnly: isTranscribing,\n          className: isTranscribing ? 'listening' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), transcription.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"transcription-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"copy-btn\",\n          onClick: copyToClipboard,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"9\",\n              y: \"9\",\n              width: \"13\",\n              height: \"13\",\n              rx: \"2\",\n              ry: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), \"Copy\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"download-btn\",\n          onClick: downloadTranscription,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"7,10 12,15 17,10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"12\",\n              y1: \"15\",\n              x2: \"12\",\n              y2: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), \"Download\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), transcriptionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transcription-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCDD History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-list\",\n        children: transcriptionHistory.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"history-time\",\n              children: item.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"video-time\",\n              children: formatTime(item.videoTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-text\",\n            children: item.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), videoDuration > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Current: \", formatTime(currentTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Duration: \", formatTime(videoDuration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${currentTime / videoDuration * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s(TranscriptionPanel, \"vYFtSIQdYv7+J151s9qNUAnGLnE=\");\n_c = TranscriptionPanel;\nexport default TranscriptionPanel;\nvar _c;\n$RefreshReg$(_c, \"TranscriptionPanel\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","TranscriptionPanel","transcription","setTranscription","isTranscribing","onStartTranscription","onStopTranscription","onClearTranscription","transcriptionHistory","currentTime","videoDuration","formatTime","_s","recognition","setRecognition","isSupported","setIsSupported","error","setError","debugInfo","setDebugInfo","textareaRef","window","SpeechRecognition","webkitSpeechRecognition","recognitionInstance","continuous","interimResults","lang","maxAlternatives","onstart","console","log","onresult","event","finalTranscript","interimTranscript","i","resultIndex","results","length","transcript","isFinal","prev","onerror","errorMessage","onend","setTimeout","start","message","stop","handleStartTranscription","handleStopTranscription","handleClearTranscription","copyToClipboard","trim","navigator","clipboard","writeText","then","button","document","querySelector","originalText","textContent","catch","err","downloadTranscription","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","Date","toISOString","slice","replace","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","width","height","viewBox","fill","cx","cy","r","x","y","d","x1","y1","x2","y2","process","env","NODE_ENV","style","fontSize","color","marginBottom","ref","value","onChange","e","target","placeholder","readOnly","rx","ry","points","map","item","timestamp","videoTime","text","id","_c","$RefreshReg$"],"sources":["C:/Users/SAMSUNG/Desktop/P.Projects/transcribe/client/src/components/TranscriptionPanel.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './TranscriptionPanel.css';\r\n\r\nconst TranscriptionPanel = ({\r\n  transcription,\r\n  setTranscription,\r\n  isTranscribing,\r\n  onStartTranscription,\r\n  onStopTranscription,\r\n  onClearTranscription,\r\n  transcriptionHistory,\r\n  currentTime,\r\n  videoDuration,\r\n  formatTime\r\n}) => {\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [debugInfo, setDebugInfo] = useState('');\r\n  const textareaRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Check if Web Speech API is supported\r\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      \r\n      try {\r\n        const recognitionInstance = new SpeechRecognition();\r\n        \r\n        recognitionInstance.continuous = true;\r\n        recognitionInstance.interimResults = true;\r\n        recognitionInstance.lang = 'en-US';\r\n        recognitionInstance.maxAlternatives = 1;\r\n\r\n        recognitionInstance.onstart = () => {\r\n          console.log('Speech recognition started');\r\n          setDebugInfo('Speech recognition started successfully');\r\n          setError('');\r\n        };\r\n\r\n        recognitionInstance.onresult = (event) => {\r\n          let finalTranscript = '';\r\n          let interimTranscript = '';\r\n\r\n          for (let i = event.resultIndex; i < event.results.length; i++) {\r\n            const transcript = event.results[i][0].transcript;\r\n            if (event.results[i].isFinal) {\r\n              finalTranscript += transcript;\r\n            } else {\r\n              interimTranscript += transcript;\r\n            }\r\n          }\r\n\r\n          if (finalTranscript) {\r\n            setTranscription(prev => prev + ' ' + finalTranscript);\r\n            setDebugInfo(`Transcribed: \"${finalTranscript}\"`);\r\n          }\r\n        };\r\n\r\n        recognitionInstance.onerror = (event) => {\r\n          console.error('Speech recognition error:', event.error);\r\n          let errorMessage = `Speech recognition error: ${event.error}`;\r\n          \r\n          // Provide specific guidance for common errors\r\n          switch(event.error) {\r\n            case 'aborted':\r\n              errorMessage = 'Speech recognition was aborted. This usually happens when the browser stops the recognition. Try refreshing the page and ensure you\\'re using Chrome or Edge.';\r\n              break;\r\n            case 'audio-capture':\r\n              errorMessage = 'Audio capture failed. Please check your microphone permissions and ensure your microphone is working.';\r\n              break;\r\n            case 'bad-grammar':\r\n              errorMessage = 'Bad grammar error. This is usually a browser issue. Try refreshing the page.';\r\n              break;\r\n            case 'language-not-supported':\r\n              errorMessage = 'Language not supported. The app is configured for English (US).';\r\n              break;\r\n            case 'network':\r\n              errorMessage = 'Network error. Please check your internet connection.';\r\n              break;\r\n            case 'no-speech':\r\n              errorMessage = 'No speech detected. Please speak clearly into your microphone.';\r\n              break;\r\n            case 'not-allowed':\r\n              errorMessage = 'Microphone access denied. Please allow microphone access in your browser settings.';\r\n              break;\r\n            case 'service-not-allowed':\r\n              errorMessage = 'Speech recognition service not allowed. Please check your browser settings.';\r\n              break;\r\n            default:\r\n              errorMessage = `Speech recognition error: ${event.error}. Please try refreshing the page.`;\r\n          }\r\n          \r\n          setError(errorMessage);\r\n          setDebugInfo(`Error occurred: ${event.error}`);\r\n          onStopTranscription();\r\n        };\r\n\r\n        recognitionInstance.onend = () => {\r\n          console.log('Speech recognition ended');\r\n          setDebugInfo('Speech recognition ended');\r\n          if (isTranscribing) {\r\n            // Restart if still transcribing\r\n            setTimeout(() => {\r\n              try {\r\n                recognitionInstance.start();\r\n                setDebugInfo('Restarting speech recognition...');\r\n              } catch (error) {\r\n                console.error('Error restarting recognition:', error);\r\n                setError('Failed to restart speech recognition. Please try again.');\r\n                onStopTranscription();\r\n              }\r\n            }, 100);\r\n          }\r\n        };\r\n\r\n        setRecognition(recognitionInstance);\r\n        setIsSupported(true);\r\n        setDebugInfo('Speech recognition initialized successfully');\r\n      } catch (error) {\r\n        console.error('Error creating speech recognition:', error);\r\n        setError('Failed to initialize speech recognition. Please ensure you\\'re using Chrome or Edge browser.');\r\n        setIsSupported(false);\r\n      }\r\n    } else {\r\n      setIsSupported(false);\r\n      setError('Speech recognition is not supported in this browser. Please use Chrome or Edge.');\r\n    }\r\n  }, [isTranscribing, setTranscription, onStopTranscription]);\r\n\r\n  useEffect(() => {\r\n    if (isTranscribing && recognition && isSupported) {\r\n      try {\r\n        recognition.start();\r\n        setDebugInfo('Starting speech recognition...');\r\n      } catch (error) {\r\n        console.error('Error starting recognition:', error);\r\n        setError('Failed to start speech recognition. Please try refreshing the page.');\r\n        setDebugInfo(`Start error: ${error.message}`);\r\n      }\r\n    } else if (!isTranscribing && recognition) {\r\n      try {\r\n        recognition.stop();\r\n        setDebugInfo('Stopping speech recognition...');\r\n      } catch (error) {\r\n        console.error('Error stopping recognition:', error);\r\n        setDebugInfo(`Stop error: ${error.message}`);\r\n      }\r\n    }\r\n  }, [isTranscribing, recognition, isSupported]);\r\n\r\n  const handleStartTranscription = () => {\r\n    setError('');\r\n    setDebugInfo('User requested to start transcription');\r\n    onStartTranscription();\r\n  };\r\n\r\n  const handleStopTranscription = () => {\r\n    setDebugInfo('User requested to stop transcription');\r\n    onStopTranscription();\r\n  };\r\n\r\n  const handleClearTranscription = () => {\r\n    onClearTranscription();\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    if (transcription.trim()) {\r\n      navigator.clipboard.writeText(transcription).then(() => {\r\n        // Show a brief success message\r\n        const button = document.querySelector('.copy-btn');\r\n        if (button) {\r\n          const originalText = button.textContent;\r\n          button.textContent = 'Copied!';\r\n          setTimeout(() => {\r\n            button.textContent = originalText;\r\n          }, 2000);\r\n        }\r\n      }).catch(err => {\r\n        console.error('Failed to copy text: ', err);\r\n      });\r\n    }\r\n  };\r\n\r\n  const downloadTranscription = () => {\r\n    if (transcription.trim()) {\r\n      const blob = new Blob([transcription], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `transcription-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.txt`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"transcription-panel\">\r\n      <div className=\"panel-header\">\r\n        <h3>üé§ Transcription</h3>\r\n        <div className=\"transcription-controls\">\r\n          {!isTranscribing ? (\r\n            <button\r\n              className=\"start-btn\"\r\n              onClick={handleStartTranscription}\r\n              disabled={!isSupported}\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n              </svg>\r\n              Start\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"stop-btn\"\r\n              onClick={handleStopTranscription}\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\"/>\r\n              </svg>\r\n              Stop\r\n            </button>\r\n          )}\r\n          \r\n          <button\r\n            className=\"clear-btn\"\r\n            onClick={handleClearTranscription}\r\n            disabled={!transcription.trim()}\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M3 6h18\"/>\r\n              <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\"/>\r\n              <path d=\"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\r\n            </svg>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\r\n            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\r\n          </svg>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {!isSupported && (\r\n        <div className=\"warning-message\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"/>\r\n            <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"/>\r\n            <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/>\r\n          </svg>\r\n          Speech recognition requires Chrome or Edge browser\r\n        </div>\r\n      )}\r\n\r\n      {/* Debug info for troubleshooting */}\r\n      {process.env.NODE_ENV === 'development' && debugInfo && (\r\n        <div className=\"debug-info\" style={{ fontSize: '0.8rem', color: '#666', marginBottom: '0.5rem' }}>\r\n          Debug: {debugInfo}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"transcription-content\">\r\n        <div className=\"transcription-textarea\">\r\n          <textarea\r\n            ref={textareaRef}\r\n            value={transcription}\r\n            onChange={(e) => setTranscription(e.target.value)}\r\n            placeholder={isTranscribing ? \"Listening...\" : \"Transcription will appear here...\"}\r\n            readOnly={isTranscribing}\r\n            className={isTranscribing ? 'listening' : ''}\r\n          />\r\n        </div>\r\n\r\n        {transcription.trim() && (\r\n          <div className=\"transcription-actions\">\r\n            <button className=\"copy-btn\" onClick={copyToClipboard}>\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"/>\r\n                <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"/>\r\n              </svg>\r\n              Copy\r\n            </button>\r\n            <button className=\"download-btn\" onClick={downloadTranscription}>\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"/>\r\n                <polyline points=\"7,10 12,15 17,10\"/>\r\n                <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"/>\r\n              </svg>\r\n              Download\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {transcriptionHistory.length > 0 && (\r\n        <div className=\"transcription-history\">\r\n          <h4>üìù History</h4>\r\n          <div className=\"history-list\">\r\n            {transcriptionHistory.map((item) => (\r\n              <div key={item.id} className=\"history-item\">\r\n                <div className=\"history-header\">\r\n                  <span className=\"history-time\">{item.timestamp}</span>\r\n                  <span className=\"video-time\">{formatTime(item.videoTime)}</span>\r\n                </div>\r\n                <div className=\"history-text\">{item.text}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {videoDuration > 0 && (\r\n        <div className=\"video-progress\">\r\n          <div className=\"progress-info\">\r\n            <span>Current: {formatTime(currentTime)}</span>\r\n            <span>Duration: {formatTime(videoDuration)}</span>\r\n          </div>\r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\"\r\n              style={{ width: `${(currentTime / videoDuration) * 100}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TranscriptionPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}